all command lines:
--extra-cflags= -m32  --extra-ldflags= -m32 

---------------------------------
CFLAGS/LDFLAGS checking...
int main(void){ return 0;}
gcc conftest.c -o conftest -Wall -std=c99 -pedantic -I. -I. -D__USE_MINGW_ANSI_STDIO=1 -I/usr/local/include -m32 -L. -L/usr/local/lib -L${exec_prefix}/lib -m32
0
int main(void){ return 0;}
gcc conftest.c -o conftest -Os -ffast-math -Wall -std=c99 -pedantic -I. -I. -D__USE_MINGW_ANSI_STDIO=1 -I/usr/local/include -m32 -L. -L/usr/local/lib -L${exec_prefix}/lib -m32
0
int main(void){ return 0;}
gcc conftest.c -o conftest -Os -ffast-math -Wall -std=c99 -pedantic -I. -I. -D__USE_MINGW_ANSI_STDIO=1 -I/usr/local/include -m32 -fexcess-precision=fast -L. -L/usr/local/lib -L${exec_prefix}/lib -m32
0

---------------------------------
checking for liblsmash...
#include <lsmash.h>
int main(void){lsmash_create_root(); return 0;}
gcc conftest.c -o conftest -Os -ffast-math -Wall -std=c99 -pedantic -I. -I. -D__USE_MINGW_ANSI_STDIO=1 -I/usr/local/include -m32 -fexcess-precision=fast -I/mingw32/include -L. -L/usr/local/lib -L${exec_prefix}/lib -m32 -L/mingw32/lib -llsmash -lm -lavformat -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lavcodec -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lswresample -lm -lswscale -lm -lavutil -lm
0

---------------------------------
checking for libavformat...
#include <libavformat/avformat.h>
int main(void){avformat_find_stream_info(0,0); return 0;}
gcc conftest.c -o conftest -Os -ffast-math -Wall -std=c99 -pedantic -I. -I. -D__USE_MINGW_ANSI_STDIO=1 -I/usr/local/include -m32 -fexcess-precision=fast -I/mingw32/include -L. -L/usr/local/lib -L${exec_prefix}/lib -m32 -L/mingw32/lib -llsmash -lm -lavformat -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lavcodec -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lswresample -lm -lswscale -lm -lavutil -lm
0

---------------------------------
checking for libavcodec...
#include <libavcodec/avcodec.h>
int main(void){avcodec_find_decoder(0); return 0;}
gcc conftest.c -o conftest -Os -ffast-math -Wall -std=c99 -pedantic -I. -I. -D__USE_MINGW_ANSI_STDIO=1 -I/usr/local/include -m32 -fexcess-precision=fast -I/mingw32/include -L. -L/usr/local/lib -L${exec_prefix}/lib -m32 -L/mingw32/lib -llsmash -lm -lavformat -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lavcodec -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lswresample -lm -lswscale -lm -lavutil -lm
0

---------------------------------
checking for libswscale...
#include <libswscale/swscale.h>
int main(void){sws_getCachedContext(0,0,0,0,0,0,0,0,0,0,0); return 0;}
gcc conftest.c -o conftest -Os -ffast-math -Wall -std=c99 -pedantic -I. -I. -D__USE_MINGW_ANSI_STDIO=1 -I/usr/local/include -m32 -fexcess-precision=fast -I/mingw32/include -L. -L/usr/local/lib -L${exec_prefix}/lib -m32 -L/mingw32/lib -llsmash -lm -lavformat -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lavcodec -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lswresample -lm -lswscale -lm -lavutil -lm
0
---------------------------------
    setting
---------------------------------
CC = gcc
LD = gcc
STRIP = strip
CFLAGS = -Os -ffast-math -Wall -std=c99 -pedantic -I. -I. -D__USE_MINGW_ANSI_STDIO=1 -I/usr/local/include  -m32  -fexcess-precision=fast -I/mingw32/include 
LDFLAGS = -L. -L/usr/local/lib -L${exec_prefix}/lib  -m32  -shared -Wl,--dll,--add-stdcall-alias
LIBS = -lwinmm -L/mingw32/lib -llsmash -lm -lavformat -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lavcodec -lavicap32 -lgdi32 -lpsapi -lole32 -lstrmiids -luuid -loleaut32 -lshlwapi -lSecur32 -lopus -lm -lopenjpeg -DOPJ_STATIC -lm -lbz2 -lz -pthread -lpsapi -ladvapi32 -lshell32 -lswresample -lm -lswscale -lm -lavutil -lm  
SRCDIR = .
DESTDIR = 
prefix = /usr/local
exec_prefix = ${prefix}
libdir = ${exec_prefix}/lib
vsplugindir = ${libdir}/vapoursynth
SRC_SOURCE = lsmashsource.c video_output.c libavsmash_source.c lwlibav_source.c              ../common/utils.c  ../common/qsv.c ../common/libavsmash.c                       ../common/libavsmash_video.c ../common/lwlibav_dec.c                            ../common/lwlibav_video.c ../common/lwlibav_audio.c                             ../common/lwindex.c ../common/video_output.c
BASENAME=vslsmashsource
SONAME=vslsmashsource.dll
SONAME_LN=
SOSUFFIX=dll
SOFLAGS=-Wl,--enable-auto-image-base -Wl,--export-all-symbols
